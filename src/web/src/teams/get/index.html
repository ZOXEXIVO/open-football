{% extends "layout.html" %}

{% block submenu %}
<div class="fm-tabbar">
    <a class="fm-tab active">Players</a>
    <a class="fm-tab">International</a>
    <a class="fm-tab">Players on Loan</a>
    <a class="fm-tab">Extended Leave</a>
    <a class="fm-tab">Team Meeting</a>
</div>
{% endblock %}

{% block content %}
<div class="fm-page">
    <section class="fm-panel">
        <div class="fm-panel-head">
            <h3>Squad</h3>
        </div>
        <table class="fm-squad">
            <thead>
                <tr>
                    <th class="sq-inf"></th>
                    <th class="sq-name">Name</th>
                    <th>Position</th>
                    <th class="sq-nat">Nat</th>
                    <th>Ability</th>
                    <th>Potential</th>
                    <th>Morale</th>
                    <th class="sq-cond">Condition</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                {% for player in players %}
                <tr>
                    <td class="sq-inf">
                        {% if player.injured %}
                        <span class="fm-badge fm-badge-inj">Inj</span>
                        {% endif %}
                    </td>
                    <td class="sq-name">
                        <a href="/teams/{{ team_slug }}/players/{{ player.id }}">
                            {{ player.last_name }}&nbsp;{{ player.first_name }}
                        </a>
                    </td>
                    <td class="sq-pos">{{ player.position }}</td>
                    <td class="sq-nat">
                        <a href="/countries/{{ player.country_slug }}">
                            <span class="flag flag-{{ player.country_code }}" title="{{ player.country_name }}"></span>
                        </a>
                    </td>
                    <td>
                        <div class="fm-stars">
                            {% for _ in 0..player.current_ability %}<span class="star on"></span>{% endfor %}{% for _ in 0..(5 - player.current_ability) %}<span class="star"></span>{% endfor %}
                        </div>
                    </td>
                    <td>
                        <div class="fm-stars">
                            {% for _ in 0..player.potential_ability %}<span class="star on"></span>{% endfor %}{% for _ in 0..(5 - player.potential_ability) %}<span class="star"></span>{% endfor %}
                        </div>
                    </td>
                    <td>{{ player.behaviour }}</td>
                    <td class="sq-cond">
                        <div class="fm-cond">
                            <div class="fm-cond-bar"><div class="fm-cond-fill" style="width:{{ player.conditions }}%"></div></div>
                            <span class="fm-cond-val">{{ player.conditions }}%</span>
                        </div>
                    </td>
                    <td>{{ player.value }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
</div>
{% endblock %}
